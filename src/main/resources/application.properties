# ===========================================
# Multi-Tenant REST API Integration Service
# Application Configuration
# ===========================================

# Application Info
spring.application.name=multi-tenant-integration-service

# Server Configuration
server.port=8080
server.servlet.context-path=/api

# ===========================================
# Database Configuration (Oracle)
# ===========================================
spring.datasource.url=jdbc:oracle:thin:@//localhost:1521/ORCL
spring.datasource.username=ENC(your_encrypted_username)
spring.datasource.password=ENC(your_encrypted_password)
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# Connection Settings (no pooling per requirements)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ===========================================
# MyBatis Configuration
# ===========================================
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.company.integration.model.entity
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.jdbc-type-for-null=NULL
mybatis.configuration.log-impl=org.apache.ibatis.logging.log4j2.Log4j2Impl

# ===========================================
# REST Client Configuration
# ===========================================
rest.client.timeout.seconds=300
rest.client.connection.timeout.seconds=30
rest.client.max.connections=100
rest.client.max.connections.per.route=20

# ===========================================
# Email Configuration (SMTP)
# ===========================================
spring.mail.host=smtp.company.com
spring.mail.port=587
spring.mail.username=ENC(your_encrypted_email_username)
spring.mail.password=ENC(your_encrypted_email_password)
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# Email Sender Details
email.from.address=integration-service@company.com
email.from.name=Integration Service

# ===========================================
# Jasypt Encryption Configuration
# ===========================================
jasypt.encryptor.password=${JASYPT_MASTER_PASSWORD:defaultMasterPassword}
jasypt.encryptor.algorithm=PBEWithMD5AndDES
jasypt.encryptor.iv-generator-classname=org.jasypt.iv.NoIvGenerator

# ===========================================
# Encryption Configuration (AES-256)
# ===========================================
encryption.aes.secret.key=${AES_SECRET_KEY:defaultAesSecretKey123456789012}

# ===========================================
# Retry Configuration
# ===========================================
retry.max.attempts=360
retry.interval.hours=1
retry.max.days=15
retry.batch.size=100

# ===========================================
# Report Configuration
# ===========================================
report.output.directory=${REPORT_OUTPUT_DIR:./reports}
report.csv.delimiter=,
report.date.format=yyyyMMdd

# ===========================================
# Logging Configuration
# ===========================================
logging.config=classpath:log4j2.xml
logging.level.com.company.integration=INFO
logging.level.org.mybatis=DEBUG
logging.level.org.springframework.web=INFO

# ===========================================
# Actuator Configuration
# ===========================================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.health.db.enabled=true
management.metrics.tags.application=${spring.application.name}

# Health Check Configuration
management.endpoint.health.probes.enabled=true
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# ===========================================
# Request/Response Size Limits
# ===========================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
server.tomcat.max-http-form-post-size=10MB

# ===========================================
# Jackson Configuration
# ===========================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSSZ
spring.jackson.time-zone=UTC
